<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>Net::SCP</title>
    <meta content='text/html; charset=US-ASCII' http-equiv='Content-Type'>
    <link href='../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>class</span>
          Net::SCP
        </h1>
        <ol class='paths'>
          <li>
            <a target="docwin" href="../../files/lib/net/scp/download_rb.html">lib/net/scp/download.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/scp/errors_rb.html">lib/net/scp/errors.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/scp/upload_rb.html">lib/net/scp/upload.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/scp/version_rb.html">lib/net/scp/version.rb</a>
          </li>
          <li class='other'>
            <a target="docwin" href="../../files/lib/net/scp_rb.html">lib/net/scp.rb</a>
          </li>
          <li>
            <a class='show' href='#' onclick='this.parentNode.parentNode.className += " expanded"; this.parentNode.removeChild(this); return false'>show all</a>
          </li>
        </ol>
        <div class='parent'>
          Parent:
          <strong><a target="docwin" href="../Net.html">Net</a></strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            
            <p><a href="SCP.html">Net::SCP</a> implements the <a href="SCP.html">SCP</a>
            (Secure CoPy) client protocol, allowing Ruby programs to securely and
            programmatically transfer individual files or entire directory trees to and
            from remote servers. It provides support for multiple simultaneous <a
            href="SCP.html">SCP</a> copies working in parallel over the same
            connection, as well as for synchronous, serial copies.</p>
            
            <p>Basic usage:</p>
            
            <pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'net/scp'</span>&#x000A;&#x000A;<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SCP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-string">&quot;remote.host&quot;</span>, <span class="ruby-string">&quot;username&quot;</span>, :<span class="ruby-identifier">password</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;passwd&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">scp</span><span class="ruby-operator">|</span>&#x000A;  <span class="ruby-comment"># synchronous (blocking) upload; call blocks until upload completes</span>&#x000A;  <span class="ruby-identifier">scp</span>.<span class="ruby-identifier">upload!</span> <span class="ruby-string">&quot;/local/path&quot;</span>, <span class="ruby-string">&quot;/remote/path&quot;</span>&#x000A;&#x000A;  <span class="ruby-comment"># asynchronous upload; call returns immediately and requires SSH</span>&#x000A;  <span class="ruby-comment"># event loop to run</span>&#x000A;  <span class="ruby-identifier">channel</span> = <span class="ruby-identifier">scp</span>.<span class="ruby-identifier">upload</span>(<span class="ruby-string">&quot;/local/path&quot;</span>, <span class="ruby-string">&quot;/remote/path&quot;</span>)&#x000A;  <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">wait</span>&#x000A;<span class="ruby-keyword">end</span></pre>
            
            <p><a href="SCP.html">Net::SCP</a> also provides an open-uri tie-in, so you
            can use the Kernel#open method to open and read a remote file:</p>
            
            <pre class="ruby"><span class="ruby-comment"># if you just want to parse SCP URL's:</span>&#x000A;<span class="ruby-identifier">require</span> <span class="ruby-string">'uri/scp'</span>&#x000A;<span class="ruby-identifier">url</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;scp://user@remote.host/path/to/file&quot;</span>)&#x000A;&#x000A;<span class="ruby-comment"># if you want to read from a URL voa SCP:</span>&#x000A;<span class="ruby-identifier">require</span> <span class="ruby-string">'uri/open-scp'</span>&#x000A;<span class="ruby-identifier">puts</span> <span class="ruby-identifier">open</span>(<span class="ruby-string">&quot;scp://user@remote.host/path/to/file&quot;</span>).<span class="ruby-identifier">read</span></pre>
            
            <p>Lastly, <a href="SCP.html">Net::SCP</a> adds a method to the <a
            href="SSH/Connection/Session.html">Net::SSH::Connection::Session</a> class,
            allowing you to easily grab a <a href="SCP.html">Net::SCP</a> reference
            from an existing <a href="SSH.html">Net::SSH</a> session:</p>
            
            <pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'net/ssh'</span>&#x000A;<span class="ruby-identifier">require</span> <span class="ruby-string">'net/scp'</span>&#x000A;&#x000A;<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span>.<span class="ruby-identifier">start</span>(<span class="ruby-string">&quot;remote.host&quot;</span>, <span class="ruby-string">&quot;username&quot;</span>, :<span class="ruby-identifier">password</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;passwd&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ssh</span><span class="ruby-operator">|</span>&#x000A;  <span class="ruby-identifier">ssh</span>.<span class="ruby-identifier">scp</span>.<span class="ruby-identifier">download!</span> <span class="ruby-string">&quot;/remote/path&quot;</span>, <span class="ruby-string">&quot;/local/path&quot;</span>&#x000A;<span class="ruby-keyword">end</span></pre>
            
            <h2 id="label-Progress+Reporting">Progress Reporting</h2>
            
            <p>By default, uploading and downloading proceed silently, without any outward
            indication of their progress. For long running uploads or downloads (and
            especially in interactive environments) it is desirable to report to the
            user the progress of the current operation.</p>
            
            <p>To receive progress reports for the current operation, just pass a block to
            <a href="SCP.html#method-i-upload">upload</a> or <a
            href="SCP.html#method-i-download">download</a> (or one of their variants):</p>
            
            <pre class="ruby"><span class="ruby-identifier">scp</span>.<span class="ruby-identifier">upload!</span>(<span class="ruby-string">&quot;/path/to/local&quot;</span>, <span class="ruby-string">&quot;/path/to/remote&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ch</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">sent</span>, <span class="ruby-identifier">total</span><span class="ruby-operator">|</span>&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;#{name}: #{sent}/#{total}&quot;</span>&#x000A;<span class="ruby-keyword">end</span></pre>
            
            <p>Whenever a new chunk of data is recieved for or sent to a file, the
            callback will be invoked, indicating the name of the file (local for
            downloads, remote for uploads), the number of bytes that have been sent or
            received so far for the file, and the size of the file.</p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>Public Class</h3>
            <ol>
              <li><a target="docwin" href="#method-c-download-21">download!</a></li>
              <li><a target="docwin" href="#method-c-new">new</a></li>
              <li><a target="docwin" href="#method-c-start">start</a></li>
              <li><a target="docwin" href="#method-c-upload-21">upload!</a></li>
            </ol>
            <h3>Public Instance</h3>
            <ol>
              <li><a target="docwin" href="#method-i-download">download</a></li>
              <li><a target="docwin" href="#method-i-download-21">download!</a></li>
              <li><a target="docwin" href="#attribute-i-session">session</a></li>
              <li><a target="docwin" href="#method-i-upload">upload</a></li>
              <li><a target="docwin" href="#method-i-upload-21">upload!</a></li>
            </ol>
          </div>
          <div id='context'>
            <div id='includes'>
              <h2>Included modules</h2>
              <ol>
                <li>Net::SSH::Loggable</li>
                <li><a target="docwin" href="SCP/Upload.html">Upload</a></li>
                <li><a target="docwin" href="SCP/Download.html">Download</a></li>
              </ol>
            </div>
          </div>
          <div id='class-list'>
            <h2>Classes and Modules</h2>
            <ol>
              <li><a target="docwin" href="SCP/Download.html">Net::SCP::Download</a></li>
              <li><a target="docwin" href="SCP/Upload.html">Net::SCP::Upload</a></li>
              <li><a target="docwin" href="SCP/Error.html">Net::SCP::Error</a></li>
              <li><a target="docwin" href="SCP/Version.html">Net::SCP::Version</a></li>
            </ol>
          </div>
          <div id='section'>
            <div id='attribute-list'>
              <h2 class='section-bar'>Attributes</h2>
              <div class='name-list'>
                <table>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>
                      <a name='attribute-i-session'>session</a>
                    </td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'>
                      
                      <p>The underlying <a href="SSH.html">Net::SSH</a> session that acts as
                      transport for the <a href="SCP.html">SCP</a> packets.</p>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='methods'>
              <h2>Public Class methods</h2>
              <div class='method public-class' id='method-method-c-download-21'>
                <a name='method-c-download-21'></a>
                <div class='synopsis'>
                  <span class='name'>download!</span>
                  <span class='arguments'>(host, username, remote, local=nil, options={}, &progress)</span>
                </div>
                <div class='description'>
                  
                  <p>Starts up a new <a href="SSH.html">SSH</a> connection using the
                  <code>host</code> and <code>username</code> parameters, instantiates a new
                  <a href="SCP.html">SCP</a> session on top of it, and then begins a download
                  from <code>remote</code> to <code>local</code>. If the <code>options</code>
                  hash includes an :ssh key, the value for that will be passed to the <a
                  href="SSH.html">SSH</a> connection as options (e.g., to set the password,
                  etc.). All other options are passed to the <a
                  href="SCP.html#method-i-download-21">download!</a> method. If a block is
                  given, it will be used to report progress (see "Progress Reporting", under
                  <a href="SCP.html">Net::SCP</a>).</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-c-download-21-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-c-download-21-source'><span class="ruby-comment"># File lib/net/scp.rb, line 233</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">download!</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">username</span>, <span class="ruby-identifier">remote</span>, <span class="ruby-identifier">local</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">options</span>={}, &amp;<span class="ruby-identifier">progress</span>)&#x000A;  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dup</span>&#x000A;  <span class="ruby-identifier">start</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">username</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:ssh</span>) <span class="ruby-operator">||</span> {}) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">scp</span><span class="ruby-operator">|</span>&#x000A;    <span class="ruby-keyword">return</span> <span class="ruby-identifier">scp</span>.<span class="ruby-identifier">download!</span>(<span class="ruby-identifier">remote</span>, <span class="ruby-identifier">local</span>, <span class="ruby-identifier">options</span>, &amp;<span class="ruby-identifier">progress</span>)&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-method-c-new'>
                <a name='method-c-new'></a>
                <div class='synopsis'>
                  <span class='name'>new</span>
                  <span class='arguments'>(session)</span>
                </div>
                <div class='description'>
                  
                  <p>Creates a new <a href="SCP.html">Net::SCP</a> session on top of the given
                  <a href="SSH.html">Net::SSH</a> <code>session</code> object.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-c-new-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-c-new-source'><span class="ruby-comment"># File lib/net/scp.rb, line 246</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">session</span>)&#x000A;  <span class="ruby-ivar">@session</span> = <span class="ruby-identifier">session</span>&#x000A;  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">logger</span> = <span class="ruby-identifier">session</span>.<span class="ruby-identifier">logger</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-method-c-start'>
                <a name='method-c-start'></a>
                <div class='synopsis'>
                  <span class='name'>start</span>
                  <span class='arguments'>(host, username, options={})</span>
                </div>
                <div class='description'>
                  
                  <p>Starts up a new <a href="SSH.html">SSH</a> connection and instantiates a
                  new <a href="SCP.html">SCP</a> session on  top of it. If a block is given,
                  the <a href="SCP.html">SCP</a> session is yielded, and the <a
                  href="SSH.html">SSH</a> session is closed automatically when the block
                  terminates. If no block is given, the <a href="SCP.html">SCP</a> session is
                  returned.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-c-start-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-c-start-source'><span class="ruby-comment"># File lib/net/scp.rb, line 196</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">username</span>, <span class="ruby-identifier">options</span>={})&#x000A;  <span class="ruby-identifier">session</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">username</span>, <span class="ruby-identifier">options</span>)&#x000A;  <span class="ruby-identifier">scp</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">session</span>)&#x000A;&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>&#x000A;    <span class="ruby-keyword">begin</span>&#x000A;      <span class="ruby-keyword">yield</span> <span class="ruby-identifier">scp</span>&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">loop</span>&#x000A;    <span class="ruby-keyword">ensure</span>&#x000A;      <span class="ruby-identifier">session</span>.<span class="ruby-identifier">close</span>&#x000A;    <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-keyword">return</span> <span class="ruby-identifier">scp</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-method-c-upload-21'>
                <a name='method-c-upload-21'></a>
                <div class='synopsis'>
                  <span class='name'>upload!</span>
                  <span class='arguments'>(host, username, local, remote, options={}, &progress)</span>
                </div>
                <div class='description'>
                  
                  <p>Starts up a new <a href="SSH.html">SSH</a> connection using the
                  <code>host</code> and <code>username</code> parameters, instantiates a new
                  <a href="SCP.html">SCP</a> session on top of it, and then begins an upload
                  from <code>local</code> to <code>remote</code>. If the <code>options</code>
                  hash includes an :ssh key, the value for that will be passed to the <a
                  href="SSH.html">SSH</a> connection as options (e.g., to set the password,
                  etc.). All other options are passed to the <a
                  href="SCP.html#method-i-upload-21">upload!</a> method. If a block is given,
                  it will be used to report progress (see "Progress Reporting", under <a
                  href="SCP.html">Net::SCP</a>).</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-c-upload-21-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-c-upload-21-source'><span class="ruby-comment"># File lib/net/scp.rb, line 219</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">upload!</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">username</span>, <span class="ruby-identifier">local</span>, <span class="ruby-identifier">remote</span>, <span class="ruby-identifier">options</span>={}, &amp;<span class="ruby-identifier">progress</span>)&#x000A;  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dup</span>&#x000A;  <span class="ruby-identifier">start</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">username</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:ssh</span>) <span class="ruby-operator">||</span> {}) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">scp</span><span class="ruby-operator">|</span>&#x000A;    <span class="ruby-identifier">scp</span>.<span class="ruby-identifier">upload!</span>(<span class="ruby-identifier">local</span>, <span class="ruby-identifier">remote</span>, <span class="ruby-identifier">options</span>, &amp;<span class="ruby-identifier">progress</span>)&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <h2>Public Instance methods</h2>
              <div class='method public-instance' id='method-method-i-download'>
                <a name='method-i-download'></a>
                <div class='synopsis'>
                  <span class='name'>download</span>
                  <span class='arguments'>(remote, local, options={}, &progress)</span>
                </div>
                <div class='description'>
                  
                  <p>Inititiate a synchronous (non-blocking) download from <code>remote</code>
                  to <code>local</code>. The following options are recognized:</p>
                  <ul><li>
                  <p>:recursive - the <code>remote</code> parameter refers to a remote
                  directory, which should be downloaded to a new directory named
                  <code>local</code> on the local machine.</p>
                  </li><li>
                  <p>:preserve - the atime and mtime of the file should be preserved.</p>
                  </li><li>
                  <p>:verbose - the process should result in verbose output on the server end
                  (useful for debugging).</p>
                  </li></ul>
                  
                  <p>This method will return immediately, returning the
                  Net::SSH::Connection::Channel object that will support the download. To
                  wait for the download to finish, you can either call the wait method on the
                  channel, or otherwise run the <a href="SSH.html">Net::SSH</a> event loop
                  until the channel's active? method returns false.</p>
                  
                  <pre>channel = scp.download(&quot;/remote/path&quot;, &quot;/local/path&quot;)&#x000A;channel.wait</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-download-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-download-source'><span class="ruby-comment"># File lib/net/scp.rb, line 299</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">download</span>(<span class="ruby-identifier">remote</span>, <span class="ruby-identifier">local</span>, <span class="ruby-identifier">options</span>={}, &amp;<span class="ruby-identifier">progress</span>)&#x000A;  <span class="ruby-identifier">start_command</span>(<span class="ruby-value">:download</span>, <span class="ruby-identifier">local</span>, <span class="ruby-identifier">remote</span>, <span class="ruby-identifier">options</span>, &amp;<span class="ruby-identifier">progress</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-download-21'>
                <a name='method-i-download-21'></a>
                <div class='synopsis'>
                  <span class='name'>download!</span>
                  <span class='arguments'>(remote, local=nil, options={}, &progress)</span>
                </div>
                <div class='description'>
                  
                  <p>Same as <a href="SCP.html#method-i-download">download</a>, but blocks until
                  the download finishes. Identical to calling <a
                  href="SCP.html#method-i-download">download</a> and then calling the wait
                  method on the channel object that is returned.</p>
                  
                  <pre>scp.download!(&quot;/remote/path&quot;, &quot;/local/path&quot;)</pre>
                  
                  <p>If <code>local</code> is nil, and the download is not recursive (e.g., it
                  is downloading only a single file), the file will be downloaded to an
                  in-memory buffer and the resulting string returned.</p>
                  
                  <pre>data = download!(&quot;/remote/path&quot;)</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-download-21-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-download-21-source'><span class="ruby-comment"># File lib/net/scp.rb, line 314</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">download!</span>(<span class="ruby-identifier">remote</span>, <span class="ruby-identifier">local</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">options</span>={}, &amp;<span class="ruby-identifier">progress</span>)&#x000A;  <span class="ruby-identifier">destination</span> = <span class="ruby-identifier">local</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">local</span> <span class="ruby-operator">:</span> <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>&#x000A;  <span class="ruby-identifier">download</span>(<span class="ruby-identifier">remote</span>, <span class="ruby-identifier">destination</span>, <span class="ruby-identifier">options</span>, &amp;<span class="ruby-identifier">progress</span>).<span class="ruby-identifier">wait</span>&#x000A;  <span class="ruby-identifier">local</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">destination</span>.<span class="ruby-identifier">string</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-upload'>
                <a name='method-i-upload'></a>
                <div class='synopsis'>
                  <span class='name'>upload</span>
                  <span class='arguments'>(local, remote, options={}, &progress)</span>
                </div>
                <div class='description'>
                  
                  <p>Inititiate a synchronous (non-blocking) upload from <code>local</code> to
                  <code>remote</code>. The following options are recognized:</p>
                  <ul><li>
                  <p>:recursive - the <code>local</code> parameter refers to a local directory,
                  which should be uploaded to a new directory named <code>remote</code> on
                  the remote server.</p>
                  </li><li>
                  <p>:preserve - the atime and mtime of the file should be preserved.</p>
                  </li><li>
                  <p>:verbose - the process should result in verbose output on the server end
                  (useful for debugging).</p>
                  </li><li>
                  <p>:chunk_size - the size of each "chunk" that should be sent. Defaults to
                  2048. Changing this value may improve throughput at the expense of
                  decreasing interactivity.</p>
                  </li></ul>
                  
                  <p>This method will return immediately, returning the
                  Net::SSH::Connection::Channel object that will support the upload. To wait
                  for the upload to finish, you can either call the wait method on the
                  channel, or otherwise run the <a href="SSH.html">Net::SSH</a> event loop
                  until the channel's active? method returns false.</p>
                  
                  <pre>channel = scp.upload(&quot;/local/path&quot;, &quot;/remote/path&quot;)&#x000A;channel.wait</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-upload-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-upload-source'><span class="ruby-comment"># File lib/net/scp.rb, line 271</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">upload</span>(<span class="ruby-identifier">local</span>, <span class="ruby-identifier">remote</span>, <span class="ruby-identifier">options</span>={}, &amp;<span class="ruby-identifier">progress</span>)&#x000A;  <span class="ruby-identifier">start_command</span>(<span class="ruby-value">:upload</span>, <span class="ruby-identifier">local</span>, <span class="ruby-identifier">remote</span>, <span class="ruby-identifier">options</span>, &amp;<span class="ruby-identifier">progress</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-upload-21'>
                <a name='method-i-upload-21'></a>
                <div class='synopsis'>
                  <span class='name'>upload!</span>
                  <span class='arguments'>(local, remote, options={}, &progress)</span>
                </div>
                <div class='description'>
                  
                  <p>Same as <a href="SCP.html#method-i-upload">upload</a>, but blocks until the
                  upload finishes. Identical to calling <a
                  href="SCP.html#method-i-upload">upload</a> and then calling the wait method
                  on the channel object that is returned. The return value is not defined.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-upload-21-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-upload-21-source'><span class="ruby-comment"># File lib/net/scp.rb, line 278</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">upload!</span>(<span class="ruby-identifier">local</span>, <span class="ruby-identifier">remote</span>, <span class="ruby-identifier">options</span>={}, &amp;<span class="ruby-identifier">progress</span>)&#x000A;  <span class="ruby-identifier">upload</span>(<span class="ruby-identifier">local</span>, <span class="ruby-identifier">remote</span>, <span class="ruby-identifier">options</span>, &amp;<span class="ruby-identifier">progress</span>).<span class="ruby-identifier">wait</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a target="docwin" href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
